.rsvp{'data-id' => lesson.id}
  -if user_signed_in?
    -if current_user.attend?(lesson.id)
      %a.a_button.pressed{:href => "/rsvp/#{lesson.id}/delete", 'data-remote' => true, 'data-method' => 'POST'}
        RSVP!
    -else
      %a.a_button{:href => "/rsvp/#{lesson.id}", 'data-remote' => true, 'data-method' => 'POST'}
        RSVP!
  -else
    %a.a_button{:href => "/rsvp/#{lesson.id}", 'data-reveal-id' => 'LoginModal', 'data-remote' => true}
      RSVP!

  #{lesson.users.count} people are going (on the way)